# サービスのインストールと起動

最初の目標は、3D地図や水位の情報を配信するサービスであるNahlundのインストールを行い、動作を確認することです。

## 依存関係の確認

コンピュータに以下のソフトウェアがインストールされていることを確認してください。

+ Docker
+ Docker Compose
+ curl

以下のコマンドから確認できます。

```bash
which docker
which docker-compose
which curl
```

## サービスのインストール

Nahlundは、以下のインストールスクリプトを使用してインストールできます。

```bash
curl -fsSL https://raw.githubusercontent.com/azishio/nahlund/refs/heads/main/install.sh | bash
```

以下のコマンドで、Nahlundのインストールが完了していることを確認できます。

```bash
systemctl status nahlund
```

## サービスの起動

Nahlundは、以下のコマンドで起動できます。

```bash
systemctl start nahlund
```

次のコマンドで、Nahlundが正常に起動していることを確認してください。

```bash
systemctl status nahlund
```

また、以下のコマンドで、システムの起動時に自動的にNahlundが起動するように設定できます。

```bash
systemctl enable nahlund
```

## エンドポイントの確認

Nahlundは、2つのエンドポイントをリッスンしています。
1つは、3Dデータの配信や水位データの登録を行うためのエンドポイントで、デフォルトでは`localhost:3001`です。
もう1つは、更新情報を配信するためのエンドポイントで、デフォルトでは`localhost:3002`です。

以下のコマンドで、エンドポイントが正常にリッスンされていることを確認できます。

```bash
curl localhost:3001
curl localhost:3002
```

```
$ curl localhost:3001
$ curl localhost:3002
Hello, Nahlun! from localhost:3001
I'm Server Container.
Hello, Nahlun! from localhost:3002
I'm SocketIO Container.
```
